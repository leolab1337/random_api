# Backend description 
 
## API for application pages description

1. Paths description:

| Action                                     | Path                                           | Method |
|--------------------------------------------|------------------------------------------------|--------|
| Create a new JWT for API access            | jwt                                            | POST   |
| Get all user's JWTs for API access         | jwt                                            | GET    |
| Delete a user's JWT for API access         | jwt                                            | DELETE |
| .                                          | .                                              | .      |
| Login to user profile                      | login                                          | POST   |
| Logout from user profile                   | login/logout                                   | GET    |
| .                                          | .                                              | .      |
| Register a new user                        | register                                       | POST   |
| Delete a user profile                      | register                                       | DELETE |
| .                                          | .                                              | .      |
| Add access for user to a table*            | userAllowed                                    | POST   |
| Get all tables to which user has an access | userAllowed                                    | GET    |
| Delete user access to the table**          | userAllowed                                    | DELETE |
| .                                          | .                                              | .      |
| Add a new user table                       | userDatabase                                   | POST   |
| Get all user tables data***                | userDatabase                                   | GET    |
| Get concrete user table data***            | userDatabase/{tableName}?owner={ownerUsername} | GET    |
| Update user table data or its items        | userDatabase                                   | PUT    |
| Delete user table*                         | userDatabase                                   | DELETE |

*Can be done only by the table owner

**Can be done only by the table owner or by user from which access will be deleted

***Tables, which only can be shown to the user = with public or by request access types

2. Request and response examples:

 | Path                                           | Method | Request object example(body)                                                                                                                      | Response object example(json())                                                                                                                                                                                                                                                                                                               | 
|------------------------------------------------|--------|---------------------------------------------------------------------------------------------------------------------------------------------------|-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
 | jwt                                            | POST   | no need                                                                                                                                           | {<br/> "isSuccess": true,<br/> "message": "Data has been added" <br/>}                                                                                                                                                                                                                                                                        |
 | jwt                                            | GET    | no need                                                                                                                                           | {<br/> "isSuccess": true,<br/> "message": "Data has been found",<br/> "result": [<br/> { "token": "{token number 1}" },<br/> { "token": "{token number 2}" },<br/> { "token": "{token number 3}" } <br/>] }                                                                                                                                   |
| jwt                                            | DELETE | {<br/> "token": "{token to be deleted}"<br/>}                                                                                                     | {<br/> "isSuccess": true,<br/> "message": "Data has been deleted" <br/>}                                                                                                                                                                                                                                                                      |
| .                                              | .      | .                                                                                                                                                 | .                                                                                                                                                                                                                                                                                                                                             |
 | login                                          | POST   | {<br/>"username": "mike",<br/> "password": "mike" <br/>}                                                                                          | {<br/> "hasAccess": true,<br/> "message": "Logged in successfully" <br/>}                                                                                                                                                                                                                                                                     |
 | login/logout                                   | GET    | No need                                                                                                                                           | {<br/> isSuccess: true,<br/> message: "Logged out successfully" <br/>}                                                                                                                                                                                                                                                                        |
 | .                                              | .      | .                                                                                                                                                 | .                                                                                                                                                                                                                                                                                                                                             |
 | register                                       | POST   | {<br/>"username": "test",<br/> "password": "test" <br/>}                                                                                          | {<br/> "result": "Username was registered" <br/>}                                                                                                                                                                                                                                                                                             |
 | register                                       | DELETE | {<br/>"username": "test",<br/> "password": "test" <br/>}                                                                                          | {<br/> "isSuccess": true,<br/> "message": "User has been deleted" <br/>}                                                                                                                                                                                                                                                                      |
 | .                                              | .      | .                                                                                                                                                 | .                                                                                                                                                                                                                                                                                                                                             |
 | userAllowed                                    | POST   | {<br/>"name": "animals",<br/> "username": "test"<br/>}                                                                                            | {<br/> "isSuccess": true,<br/> "message": "Data has been added" <br/>}                                                                                                                                                                                                                                                                        |
 | userAllowed                                    | GET    | no need                                                                                                                                           | {<br/> "isSuccess": true,<br/> "message": "Data has been found",<br/> "result": [<br/> {<br/> "username": "mike",<br/> "name": "animals" <br/>} ] }                                                                                                                                                                                           |
 | userAllowed                                    | DELETE | {<br/>"name": "animals",<br/> "username": "test"<br/>}                                                                                            | {<br/> "isSuccess": true,<br/> "message": "Data has been deleted" <br/>}                                                                                                                                                                                                                                                                      |
 | .                                              | .      | .                                                                                                                                                 | .                                                                                                                                                                                                                                                                                                                                             |
 | userDatabase                                   | POST   | {<br/> "name": "cars",<br/> "description": "Description bla bla bla",<br/> "accessType": "0",<br/> "elements": [<br/>"Volvo", "BMW", "VW"<br/>] } | {<br/> "isSuccess": true,<br/> "message": "Data has been added" <br/>}                                                                                                                                                                                                                                                                        |
 | userDatabase?own=true<br/> or<br/>userDatabase | GET    | no need                                                                                                                                           | {<br/> "isSuccess": true,<br/> "message": "Data has been found",<br/> "result": [<br/> { "id": 8, "username": "mike", "name": "animals", "description": "Here is some description of the table ", "accessType": 0 },<br/> { "id": 9, "username": "mike", "name": "cars", "description": "Description bla bla bla", "accessType": 0 } <br/>] } |
 | userDatabase/cars?owner=mike                   | GET    | no need                                                                                                                                           | {<br/> "isSuccess": true,<br/> "message": "Data has been found",<br/> "result": {<br/> "id": 9, "username": "mike", "name": "cars", "description": "Description bla bla bla", "accessType": 0, "userCount": 1 <br/>} }                                                                                                                        |
 | userDatabase                                   | PUT    | {<br/> "name": "cars",<br/> "description": "Changed description",<br/> "accessType": "1" <br/>}                                                   | {<br/> "isSuccess": true,<br/> "message": "Data has been updated" <br/>}                                                                                                                                                                                                                                                                      |
 | userDatabase                                   | DELETE | {<br/> "name": "cars" <br/>}                                                                                                                      | {<br/> "isSuccess": true,<br/> "message": "Data has been deleted" <br/>}                                                                                                                                                                                                                                                                      |
 
 ### Access types explanation
 0 - public, everybody can see and use the table
  
 1 - by request, everybody can see, but can use only by table owner promission
 
 2 - private, nobody can access and see the table






